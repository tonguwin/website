---
import BaseLayout from "../layouts/BaseLayout.astro";
---

<BaseLayout>
  <div class="min-h-screen bg-secondary px-8 py-16">
    <div class="max-w-3xl mx-auto">
      <h1 class="text-4xl font-bold text-primary mb-8" data-aos="fade-up" data-aos-duration="1000">
        Workshop Space
      </h1>
      
      <div class="space-y-12">
        <article class="prose" data-aos="fade-up" data-aos-duration="1500">
          <div class="bg-primary/5 p-6 rounded-lg border border-primary/10">
            <h2 class="text-xl font-semibold text-primary mb-4">Entry 1</h2>
            <p class="text-primary/80 leading-relaxed">
              Welcome to my secret blog! This is where I share my thoughts on e-commerce product management, 
              recipes, and maybe some Pok√©mon references.
            </p>
            <div class="mt-4 text-sm text-primary/60">
              Posted on <span id="currentDate"></span>
            </div>
          </div>
        </article>
      </div>
    </div>

    <!-- Floating Gastly -->
    <div class="fixed bottom-0 left-0 w-full h-32 pointer-events-none">
      <a href="/" class="pointer-events-auto">
        <svg
          id="gastly"
          class="cursor-pointer"
          width="150"
          height="150"
          viewBox="0 0 64 64"
          xmlns="http://www.w3.org/2000/svg"
        >
          <!-- Gas effect (outer) -->
          <circle cx="32" cy="32" r="24" fill="#2D1F3D" opacity="0.4">
            <animate attributeName="r" values="24;26;24" dur="4s" repeatCount="indefinite" />
            <animate attributeName="opacity" values="0.4;0.5;0.4" dur="4s" repeatCount="indefinite" />
          </circle>

          <!-- Main body -->
          <circle cx="32" cy="32" r="20" fill="#382B4A">
            <animate attributeName="r" values="20;21;20" dur="3s" repeatCount="indefinite" />
          </circle>

          <!-- Eyes -->
          <g transform="translate(20,24)">
            <!-- Left eye -->
            <circle cx="0" cy="0" r="6" fill="white" opacity="0.9" />
            <circle cx="0" cy="0" r="3" fill="#2D1F3D">
              <animate attributeName="r" values="3;3.2;3" dur="3s" repeatCount="indefinite" />
            </circle>

            <!-- Right eye -->
            <circle cx="24" cy="0" r="6" fill="white" opacity="0.9" />
            <circle cx="24" cy="0" r="3" fill="#2D1F3D">
              <animate attributeName="r" values="3;3.2;3" dur="3s" repeatCount="indefinite" />
            </circle>
          </g>

          <!-- Mouth (subtle, like Charmander's) -->
          <path
            d="M30,36 C31,37 33,37 34,36"
            fill="none"
            stroke="white"
            stroke-width="1"
            stroke-linecap="round"
            opacity="0.7"
          />

          <!-- Gas particles -->
          <g opacity="0.4">
            <circle cx="16" cy="32" r="3" fill="#2D1F3D">
              <animate attributeName="cx" values="16;14;16" dur="4s" repeatCount="indefinite" />
              <animate attributeName="cy" values="32;30;32" dur="4s" repeatCount="indefinite" />
              <animate attributeName="opacity" values="0.4;0.6;0.4" dur="4s" repeatCount="indefinite" />
            </circle>
            <circle cx="48" cy="32" r="3" fill="#2D1F3D">
              <animate attributeName="cx" values="48;50;48" dur="4.5s" repeatCount="indefinite" />
              <animate attributeName="cy" values="32;34;32" dur="4.5s" repeatCount="indefinite" />
              <animate attributeName="opacity" values="0.4;0.6;0.4" dur="4.5s" repeatCount="indefinite" />
            </circle>
            <circle cx="32" cy="16" r="3" fill="#2D1F3D">
              <animate attributeName="cy" values="16;14;16" dur="5s" repeatCount="indefinite" />
              <animate attributeName="opacity" values="0.4;0.6;0.4" dur="5s" repeatCount="indefinite" />
            </circle>
            <circle cx="32" cy="48" r="3" fill="#2D1F3D">
              <animate attributeName="cy" values="48;50;48" dur="3.5s" repeatCount="indefinite" />
              <animate attributeName="opacity" values="0.4;0.6;0.4" dur="3.5s" repeatCount="indefinite" />
            </circle>
          </g>
        </svg>
      </a>
    </div>
  </div>

  <style>
    #gastly {
      position: fixed;
      left: 50%;
      bottom: 48px;
      transform: translate(-50%, 0);
      filter: drop-shadow(0 0 12px rgba(45, 31, 61, 0.2));
    }

    #gastly:hover {
      animation: spooky 3s infinite;
    }

    @keyframes spooky {
      0%, 100% { 
        transform: translate(-50%, 0) scale(1);
        filter: drop-shadow(0 0 12px rgba(45, 31, 61, 0.2));
      }
      50% { 
        transform: translate(-50%, -5px) scale(1.05);
        filter: drop-shadow(0 0 16px rgba(45, 31, 61, 0.3));
      }
    }

    #gastly.clicked {
      animation: vanish 1.5s forwards;
    }

    @keyframes vanish {
      0% {
        transform: translate(-50%, 0) scale(1);
        opacity: 1;
        filter: drop-shadow(0 0 12px rgba(45, 31, 61, 0.2));
      }
      50% {
        transform: translate(-50%, -10px) scale(1.1);
        opacity: 0.6;
        filter: drop-shadow(0 0 20px rgba(45, 31, 61, 0.4));
      }
      100% {
        transform: translate(-50%, -20px) scale(0);
        opacity: 0;
        filter: blur(12px) drop-shadow(0 0 20px rgba(45, 31, 61, 0));
      }
    }

    /* Add stars in the background */
    .min-h-screen {
      position: relative;
      overflow: hidden;
    }

    .min-h-screen::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: 
        radial-gradient(2px 2px at 20px 30px, #ffffff10 100%, transparent),
        radial-gradient(2px 2px at 40px 70px, #ffffff15 100%, transparent),
        radial-gradient(2px 2px at 50px 160px, #ffffff10 100%, transparent),
        radial-gradient(2px 2px at 90px 40px, #ffffff15 100%, transparent),
        radial-gradient(2px 2px at 130px 80px, #ffffff10 100%, transparent),
        radial-gradient(2px 2px at 160px 120px, #ffffff15 100%, transparent);
      background-repeat: repeat;
      background-size: 200px 200px;
      animation: stars 4s linear infinite;
      opacity: 0.4;
      z-index: 0;
    }

    @keyframes stars {
      0% {
        transform: translateY(0);
      }
      100% {
        transform: translateY(-200px);
      }
    }

    /* Ensure content stays above the stars */
    .max-w-3xl {
      position: relative;
      z-index: 1;
    }
  </style>

  <script>
    function formatDate(date: Date) {
      const options: Intl.DateTimeFormatOptions = { 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric' 
      };
      return new Intl.DateTimeFormat('en-US', options).format(date);
    }

    document.getElementById('currentDate').textContent = formatDate(new Date());

    // Gastly click handler
    const gastly = document.getElementById('gastly');
    if (gastly && gastly.parentElement) {
      gastly.parentElement.addEventListener('click', (e) => {
        e.preventDefault();
        gastly.classList.add('clicked');
        setTimeout(() => {
          window.location.href = '/';
        }, 1000);
      });
    }
  </script>
</BaseLayout>